# 解答

Ben の主張は正しい。`transfer` 手続きの中では

```scheme
((from-account 'withdraw) amount)
((to-account   'deposit)  amount)
```

の 2 つの操作しか行っていない。
この `withdraw` も `deposit` も、それぞれの口座オブジェクトが内部で保持している直列変換器を通って実行されるので、同じ口座に対する操作は常に逐次化される。
したがって複数人が複数口座間で同時に `transfer` を実行したとしても、各口座に対する一連の `withdraw`／`deposit` は何らかの逐次順序に並べ直せる。
よって全体の変化はは、単にいくつかの `transfer` をある順番で順番に実行した場合と同じになる。

`exchange` が正しい振る舞いを得るために特別な直列化が必要だったのは、両方の口座の残高を読み、その差分を計算してから 2 つの口座を同時に更新する必要があったからである。
計算中にどちらかの残高が別プロセスで変化すると差分が狂ってしまう。
一方 `transfer` は片方の口座から金額を引いたら、次にもう片方へ加えるだけで、同時に 2 つの口座の状態を前提にした計算をしていない。
このため追加の直列化は不要であり、Ben の `transfer` で十分である。
