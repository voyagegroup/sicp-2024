問題 3.38 解答
================

初期残高は 100 ドル、Peter は 10 ドル入金、Paul は 20 ドル引き出し、Mary は残高の半分を引き出す。

## (a) 逐次実行のみを許した場合

3 人の手続きを任意の順に逐次実行すると、6 通りの順列が考えられる。それぞれの結果は以下の通り。

- Peter → Paul → Mary : 100 → 110 → 90 → 45
- Peter → Mary → Paul : 100 → 110 → 55 → 35
- Paul → Peter → Mary : 100 → 80 → 90 → 45
- Paul → Mary → Peter : 100 → 80 → 40 → 50
- Mary → Peter → Paul : 100 → 50 → 60 → 40
- Mary → Paul → Peter : 100 → 50 → 30 → 40

よって逐次実行で得られる最終残高は **35, 40, 45, 50** の 4 通りである。

## (b) 読み取りと書き込みの混在を許した場合

他者に依存する操作は銀行からの読み取りと、銀行への書き込み。
銀行の残高アクセスを read、銀行の残高書き込みを write として、
Paule を PA、Peter を PE、Mary を MA とすると、
PAread, PAwrite, PEread, PEwrite, MAread, MAwrite。
トポロジカルソートのパターン数になる。（ここまでで力尽きた）

図では 50 になるパターンで (a) で求めたロジックとは全然違う。


