# 解答

## 反例

2 つ以上のロックを取る際に、事前にロック対象を決めることができないような処理の場合デッドロックを引き起こす。

例えば、1 つの口座を指定して、他方の口座について 100 以上残高のある口座を対象として 2 つめのロックを取るような処理。
A: 110
B: 120
のような口座があるとする。

1. プロセス1 (P1) では A を指定して実行、プロセス2 (P2) では B を指定して実行する。
2. P1 が A のロックを取る
3. P2 が B のロックを取る
4. P1 が B のロックを取ろうとするが、P2 がすでにロックしているため獲得できない
5. P2 が A のロックを取ろうとするが、P1 がすでにロックをとっているため獲得できない。
6. デッドロックが発生する。
