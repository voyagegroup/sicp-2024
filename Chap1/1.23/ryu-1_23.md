結果をまとめた表

| 実行時間 | 実行時間（next） | どれくらい早くなっているか（next/もともと） |
|----------|------------------|--------------------------------------------|
| 9949     | 4                | 0.75                                       |
| 9967     | 3                | 1                                          |
| 9973     | 4                | 0.75                                       |
| 10007    | 4                | 0.75                                       |
| 10009    | 4                | 0.75                                       |
| 10037    | 4                | 1                                          |
| 99971    | 11               | 0.9090909091                               |
| 99989    | 11               | 0.8181818182                               |
| 99991    | 10               | 0.9                                        |
| 100003   | 11               | 0.8181818182                               |
| 100019   | 11               | 0.8181818182                               |
| 100043   | 10               | 0.9                                        |
| 999961   | 35               | 0.7714285714                               |
| 999979   | 41               | 0.7317073171                               |
| 999983   | 38               | 0.7368421053                               |
| 1000003  | 35               | 0.9428571429                               |
| 1000033  | 37               | 0.7567567568                               |
| 1000037  | 38               | 0.7368421053                               |
| 9999971  | 105              | 0.9047619048                               |
| 9999973  | 106              | 0.9716981132                               |
| 9999991  | 107              | 0.8317757009                               |
| 10000019 | 108              | 0.8796296296                               |
| 10000079 | 113              | 0.9115044248                               |
| 10000103 | 118              | 0.7372881356                               |
| 99999959 | 337              | 0.8427299703                               |
| 99999971 | 348              | 0.8189655172                               |
| 99999989 | 348              | 0.8045977011                               |
| 100000007| 353              | 0.8470254958                               |
| 100000037| 361              | 0.8171745152                               |
| 100000039| 355              | 0.8478873239                               |
| 999999893| 1114             | 0.829443447                                |
| 999999929| 1127             | 0.7914818101                               |
| 999999937| 1118             | 0.8810375671                               |
| 1000000007| 1100            | 0.8163636364                               |
| 1000000009| 1159            | 0.7894736842                               |
| 1000000021| 1965            | 0.4575063613                               |
| 9999999929| 5312            | 0.8840361446                               |
| 9999999943| 5719            | 0.5910124148                               |
| 9999999967| 4125            | 0.8244848485                               |
| 10000000019| 4243           | 0.8899363658                               |
| 10000000033| 3987           | 1.189114623                                |
| 10000000061| 3940           | 0.8563451777                               |
| 99999999943| 16099          | 0.8797440835                               |
| 99999999947| 16747          | 0.6838836807                               |
| 99999999977| 15132          | 0.7557494052                               |
| 100000000003| 16034         | 0.7984907072                               |
| 100000000019| 16032         | 0.9781062874                               |
| 100000000057| 18253         | 0.6523311237                               |

average: 0.8250760451

0.5倍までいかずに、0.8倍程度の改善となった。

改善前のステップ

```
(define (smallest-divisor n)
  (find-divisor n 2))

(define (find-divisor n test-divisor)
  (cond ((> (square test-divisor) n) n)
        ((divides? test-divisor n) test-divisor)
        (else (find-divisor n (+ test-divisor 1)))))

(define (divides? a b)
  (= (remainder b a) 0))


(define (prime? n)
  (= n (smallest-divisor n)))


(prime? 11)
(= 11 (smallest-divisor 11))
(find-divisor 11 2)
(cond ((> (square 2) 11) 11)
      ((divides? 2 11) 2)
      (else (find-divisor 11 (+ 2 1))))
; (> 4 11) -> #f
; (divides? 2 11) -> #f
(find-divisor 11 3)
(find-divisor 11 4)
; -> 11
```

nextを使うようにした改善後のステップ

```
(define (smallest-divisor n)
  (find-divisor n 2))

(define (find-divisor n test-divisor)
  (cond ((> (square test-divisor) n) n)
        ((divides? test-divisor n) test-divisor)
        (else (find-divisor n (next test-divisor)))))

(define (divides? a b)
  (= (remainder b a) 0))

; 入力が2なら3 を返し, そうでなければ入力に2足したものを返す手続きnext
(define (next test-divisor)
  (if (= test-divisor 2)
      3
      (+ test-divisor 2)))

(define (prime? n)
  (= n (smallest-divisor n)))


(prime? 11)
(= 11 (smallest-divisor 11))
(find-divisor 11 2)
(cond ((> (square 2) 11) 11)
      ((divides? 2 11) 2)
      (else (find-divisor 11 (next 2))))
; (> 4 11) -> #f
; (divides? 2 11) -> #f
(find-divisor 11 (next 2))
(find-divisor 11 (if (= 2 2)
                  3
                  (+ 2 2)))
; (= 2 2) -> #t
(find-divisor 11 3)
(find-divisor 11 (next 3))
(find-divisor 11 (= 3 2)
              3
              (+ 3 2))
; (= 3 2) -> #f
(find-divisor 11 5)
; -> 11
```

nextの処理分だけステップが増加しているため、純粋にステップ数が半分になっているわけではないためこの予測ほどの改善にいかなかったと考えられる
